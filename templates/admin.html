<!DOCTYPE html>
<html lang="he" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> 爪转 - DevOps</title>
    <link rel="icon" type="image/svg+xml" href="{{ url_for('static', filename='logo.svg') }}">
    <link href="{{ url_for('static', filename='style.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='admin.css') }}" rel="stylesheet">
    <script src="{{ url_for('static', filename='js/theme.js') }}"></script>
</head>

<body>

    <!-- Navbar -->
    <nav class="navbar">
        <div class="navbar-brand">
            <a href="/" class="navbar-brand-link" id="navTasksLink"><img
                    src="{{ url_for('static', filename='logo.svg') }}" alt="Logo" class="navbar-logo"><span>
                    砖转</span></a>
            <a href="/calendar" class="navbar-brand-link" id="navCalendarLink"><span> 砖</span></a>
        </div>

        <div class="navbar-meta">
            <a href="/table-editor" class="navbar-icon-link" title="注专 ">
                <img src="{{ url_for('static', filename='icons/table.svg') }}" width="20" height="20" alt="Table Editor"
                    class="icon-img">
            </a>
            <a href="/admin" title="砖拽 " class="navbar-icon-link">
                <img src="{{ url_for('static', filename='icons/settings.svg') }}" width="20" height="20" alt="Settings"
                    class="icon-img">
            </a>

            <a href="/print" title="专住转 驻住" class="navbar-icon-link print-link">
                <img src="{{ url_for('static', filename='icons/print.svg') }}" width="20" height="20" alt="Print"
                    class="icon-img">
            </a>
            <button id="themeToggleBtn" title="爪 " class="navbar-icon-link"
                style="background:none; border:none; cursor:pointer; font-size:1.2rem; padding: 0 0.5rem;"></button>

            <span style="padding-right: 1px;">{{ now.strftime('%d/%m/%Y') }}</span>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="admin-container">

        <header class="admin-top-header">
            <h1>专转 注专转</h1>
        </header>

        <div class="settings-layout">
            <!-- Sidebar Navigation -->
            <aside class="settings-sidebar">
                <nav class="settings-nav">
                    <button class="nav-item active" data-section="teams">
                        <img src="{{ url_for('static', filename='icons/group.svg') }}" width="20" height="20"
                            alt="Teams" style="filter: brightness(0) invert(0.4);">
                         爪转
                    </button>
                    <button class="nav-item" data-section="backup">
                        <img src="{{ url_for('static', filename='icons/save.svg') }}" width="20" height="20"
                            alt="Backup" style="filter: brightness(0) invert(0.4);">
                         砖专
                    </button>
                    <button class="nav-item" data-section="system">
                        <img src="{{ url_for('static', filename='icons/settings.svg') }}" width="20" height="20"
                            alt="System">
                        专转 转
                    </button>
                </nav>
            </aside>

            <!-- Main Content Area -->
            <main class="settings-content">

                <!-- Teams Section (Existing Content) -->
                <section id="section-teams" class="settings-section active">
                    <div class="section-header">
                        <h2>爪转 专 爪转</h2>
                        <button id="addTeamBtn" class="btn btn-primary">
                            <img src="{{ url_for('static', filename='icons/plus-medium.svg') }}" width="18" height="18"
                                alt="Add" style="vertical-align:middle;">
                            住祝 爪转 砖
                        </button>
                    </div>

                    <div id="teamsContainer" class="teams-grid">
                        <!-- Teams will be loaded here dynamically -->
                    </div>
                </section>

                <!-- System Section (New Placeholder) -->
                <section id="section-system" class="settings-section">
                    <div class="section-header">
                        <h2>专转 转</h2>
                    </div>
                    <div class="settings-card">
                        <p>专转 注专转 住驻转 驻注  拽专.</p>
                    </div>
                </section>

                <!-- Backup & Restore Section -->
                <section id="section-backup" class="settings-section">
                    <div class="section-header">
                        <h2> 砖专</h2>
                    </div>

                    <div class="backup-grid">
                        <!-- Export Card -->
                        <div class="settings-card">
                            <h3>爪 转 (Backup)</h3>
                            <p style="margin-bottom: 1rem; color: #6b7280;">专 拽抓 JSON  转 转  专转.
                            </p>

                            <div class="form-group">
                                <label for="backupTableSelect">专  :</label>
                                <select id="backupTableSelect" class="form-control">
                                    <option value="all" style="font-weight: bold;"> 注专转 (All System)</option>
                                    <option value="teams">爪转 (Teams)</option>
                                    <option value="members">专 爪转 (Team Members)</option>
                                    <option value="tasks">砖转 (Tasks)</option>
                                    <option value="special_days">  (Special Days)</option>
                                </select>
                            </div>

                            <button id="downloadBackupBtn" class="btn btn-primary" style="width: 100%;">
                                <img src="{{ url_for('static', filename='icons/save.svg') }}" width="18" height="18"
                                    style="vertical-align:middle;">
                                专 
                            </button>
                        </div>

                        <!-- Import Card -->
                        <div class="settings-card">
                            <h3> 转 (Restore)</h3>
                            <p style="margin-bottom: 1rem; color: #6b7280;">专  注 拽抓 . 注专转 转转 转
                                转.</p>

                            <div class="form-group">
                                <label for="restoreTableSelect">专  砖专:</label>
                                <select id="restoreTableSelect" class="form-control">
                                    <option value="all" style="font-weight: bold;"> 注专转 (All System)</option>
                                    <option value="teams">爪转 (Teams)</option>
                                    <option value="members">专 爪转 (Team Members)</option>
                                    <option value="tasks">砖转 (Tasks)</option>
                                    <option value="special_days">  (Special Days)</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="restoreFileInput">拽抓  (JSON):</label>
                                <input type="file" id="restoreFileInput" class="form-control" accept=".json" multiple>
                                <small>转 专 住驻专 拽爪.  拽   砖专.</small>
                            </div>

                            <button id="restoreBtn" class="btn btn-danger" style="width: 100%;">
                                <img src="{{ url_for('static', filename='icons/archive.svg') }}" width="18" height="18"
                                    style="vertical-align:middle;">
                                砖专 转
                            </button>
                        </div>
                    </div>
                </section>

            </main>
        </div>

    </div>

    <!-- Add/Edit Team Modal -->
    <div id="teamModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2 id="teamModalTitle">住祝 爪转 砖</h2>
            <div class="form-group">
                <label for="teamNameEn">砖 转 (拽):</label>
                <input type="text" id="teamNameEn" class="form-control" placeholder="devops">
                <small>砖 转 砖砖 拽 注专转 (转转 拽转 )</small>
            </div>
            <div class="form-group">
                <label for="teamNameHe">砖 注专转 (转爪):</label>
                <input type="text" id="teamNameHe" class="form-control" placeholder="爪转 DevOps">
                <small>砖 注专转 爪 砖拽 砖转砖</small>
            </div>
            <div class="modal-actions">
                <button id="saveTeamBtn" class="btn btn-primary">砖专</button>
                <button id="cancelTeamBtn" class="btn btn-secondary"></button>
            </div>
        </div>
    </div>

    <!-- Add/Edit Member Modal -->
    <div id="memberModal" class="modal">
        <div class="modal-content">
            <span class="close-member-modal">&times;</span>
            <h2 id="memberModalTitle">住祝 专 爪转</h2>
            <div class="form-group">
                <label for="memberNameEn">砖 转 (拽):</label>
                <input type="text" id="memberNameEn" class="form-control" placeholder="john">
                <small>砖 转 砖砖 拽 (转转 拽转 )</small>
            </div>
            <div class="form-group">
                <label for="memberNameHe">砖 注专转 (转爪):</label>
                <input type="text" id="memberNameHe" class="form-control" placeholder="'">
                <small>砖 注专转 爪 砖拽 砖转砖</small>
            </div>
            <div class="form-group">
                <label for="memberAvatar">转转 驻专驻:</label>
                <div class="avatar-upload">
                    <img id="avatarPreview" src="{{ url_for('static', filename='images/default.png') }}"
                        class="avatar-preview">
                    <input type="file" id="memberAvatar" accept="image/png,image/jpeg,image/jpg,image/gif">
                    <label for="memberAvatar" class="btn btn-secondary">专 转</label>
                </div>
                <small> 拽住: 5MB. 驻专 转: PNG, JPG, GIF</small>
            </div>
            <div class="modal-actions">
                <button id="saveMemberBtn" class="btn btn-primary">砖专</button>
                <button id="cancelMemberBtn" class="btn btn-secondary"></button>
            </div>
        </div>
    </div>

    <!-- Notification Toast -->
    <div id="toast" class="toast"></div>

    <script src="{{ url_for('static', filename='admin.js') }}"></script>
</body>

</html>