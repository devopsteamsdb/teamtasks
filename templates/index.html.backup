<!DOCTYPE html>
<html lang="he" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="refresh" content="600">
    <title>╫£╫ץ╫ק ╫₧╫⌐╫ש╫₧╫ץ╫¬ DevOps</title>
    <link href="{{ url_for('static', filename='style.css') }}" rel="stylesheet">
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar">
        <div class="navbar-brand">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round" style="vertical-align:middle;margin-left:8px;">
                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="9" y1="3" x2="9" y2="21"></line>
            </svg>
            ╫£╫ץ╫ק ╫₧╫⌐╫ש╫₧╫ץ╫¬
        </div>

        <!-- Search Box -->
        <div class="navbar-center">
            <div class="search-container">
                <svg class="search-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="11" cy="11" r="8"></circle>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
                <input type="text" id="searchBox" placeholder="╫ק╫ש╫ñ╫ץ╫⌐ ╫₧╫⌐╫ש╫₧╫ץ╫¬..." autocomplete="off">
                <button id="clearSearch" class="clear-search" title="╫á╫º╫פ ╫ק╫ש╫ñ╫ץ╫⌐">Γ£ץ</button>
            </div>
        </div>

        <div class="navbar-meta">
            <a href="/admin" title="╫á╫ש╫פ╫ץ╫£" style="margin-left:16px;vertical-align:middle;display:inline-block;">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#888" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round" style="vertical-align:middle;">
                    <circle cx="12" cy="12" r="3"></circle>
                    <path
                        d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z">
                    </path>
                </svg>
            </a>
            <a href="/print" title="╫ע╫¿╫í╫פ ╫£╫פ╫ף╫ñ╫í╫פ" style="margin-left:16px;vertical-align:middle;display:inline-block;">
                <svg width="20" height="20" viewBox="0 0 512 512" fill="#888" style="vertical-align:middle;">
                    <g>
                        <path
                            d="M495.304,144.696h-83.478v-128C411.826,7.475,404.351,0,395.13,0H116.87c-9.22,0-16.696,7.475-16.696,16.696v128H16.696 C7.475,144.696,0,152.171,0,161.391V395.13c0,9.22,7.475,16.696,16.696,16.696h83.478v83.478c0,9.22,7.475,16.696,16.696,16.696 H395.13c9.22,0,16.696-7.475,16.696-16.696v-83.478h83.478c9.22,0,16.696-7.475,16.696-16.696V161.391 C512,152.171,504.525,144.696,495.304,144.696z M133.565,33.391h244.87v111.304h-244.87V33.391z M378.435,478.609h-244.87V311.652 h244.87V478.609z M478.609,378.435h-66.783v-83.478c0-9.22-7.475-16.696-16.696-16.696H116.87c-9.22,0-16.696,7.475-16.696,16.696 v83.478H33.391V178.087h83.478H395.13h83.478V378.435z" />
                    </g>
                    <g>
                        <path
                            d="M329.461,346.156H184.765c-9.22,0-16.696,7.475-16.696,16.696s7.475,16.696,16.696,16.696h144.696 c9.22,0,16.696-7.475,16.696-16.696S338.681,346.156,329.461,346.156z" />
                    </g>
                    <g>
                        <path
                            d="M262.678,412.939h-77.913c-9.22,0-16.696,7.475-16.696,16.696s7.475,16.696,16.696,16.696h77.913 c9.22,0,16.696-7.475,16.696-16.696S271.899,412.939,262.678,412.939z" />
                    </g>
                    <g>
                        <circle cx="362.852" cy="229.287" r="16.696" />
                    </g>
                    <g>
                        <circle cx="429.635" cy="229.287" r="16.696" />
                    </g>
                </svg>
            </a>
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round" style="vertical-align:middle;">
                <circle cx="12" cy="12" r="10" />
                <polyline points="12 6 12 12 16 14" />
            </svg>
            <span id="liveClock" style="padding-right: 1px;"></span>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="main-container">

        <header class="dashboard-header">
            <div class="dashboard-title">
                <!--╫£╫ץ╫ק ╫₧╫⌐╫ש╫₧╫ץ╫¬-->
                <button id="addTaskBtn" class="btn-add-task">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round" style="vertical-align:middle;">
                        <line x1="12" y1="5" x2="12" y2="19" />
                        <line x1="5" y1="12" x2="19" y2="12" />
                    </svg>
                    ╫פ╫ץ╫í╫ú ╫₧╫⌐╫ש╫₧╫פ
                </button>
            </div>
            <div class="filter-controls">
                <!-- Member Filters -->
                {% for member in members %}
                <button class="filter-avatar-btn" data-member="{{ member.name_en }}" title="{{ member.name_he }}">
                    <img src="{{ url_for('static', filename='images/' + member.avatar_path) }}" class="filter-avatar">
                </button>
                {% endfor %}

                <!-- Team Filters -->
                <div class="team-filters" style="margin-top: 0.75rem;">
                    <span style="font-size: 0.9rem; color: var(--secondary); margin-left: 0.5rem;">╫í╫ש╫á╫ץ╫ƒ ╫£╫ñ╫ש
                        ╫ª╫ץ╫ץ╫¬:</span>
                    {% for team in teams %}
                    <button class="filter-team-btn" data-team-id="{{ team.id }}" title="{{ team.name_he }}">
                        {{ team.name_he }}
                        <h2>╫ó╫¿╫ש╫¢╫¬ ╫₧╫⌐╫ש╫₧╫פ</h2>
                        <div class="form-row">
                            <div class="form-group half">
                                <label for="projectNameInput">╫⌐╫¥ ╫פ╫ñ╫¿╫ץ╫ש╫º╫ר:</label>
                                <input type="text" id="projectNameInput" class="form-control">
                            </div>
                            <div class="form-group half">
                                <label for="taskNameInput">╫⌐╫¥ ╫פ╫₧╫⌐╫ש╫₧╫פ:</label>
                                <input type="text" id="taskNameInput" class="form-control">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="taskTeam">╫ª╫ץ╫ץ╫¬:</label>
                            <select id="taskTeam" class="form-control">
                                <option value="">╫ס╫ק╫¿ ╫ª╫ץ╫ץ╫¬...</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>╫ק╫ס╫¿╫ש ╫ª╫ץ╫ץ╫¬:</label>
                            <div class="members-select">
                                <!-- Populated by JS -->
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group half">
                                <label for="taskStatus">╫í╫ר╫ר╫ץ╫í:</label>
                                <select id="taskStatus" class="form-control">
                                    <option value="status-inprogress">╫ס╫¬╫פ╫£╫ש╫ת</option>
                                    <option value="status-done">╫פ╫í╫¬╫ש╫ש╫¥</option>
                                    <option value="status-notstarted">╫ר╫¿╫¥ ╫פ╫ק╫£</option>
                                    <option value="status-delayed">╫ס╫ó╫ש╫¢╫ץ╫ס</option>
                                </select>
                            </div>
                            <div class="form-group half">
                                <label for="taskPriority">╫ó╫ף╫ש╫ñ╫ץ╫¬:</label>
                                <select id="taskPriority" class="form-control">
                                    <option value="none">╫£╫£╫נ</option>
                                    <option value="low">╫á╫₧╫ץ╫¢╫פ</option>
                                    <option value="medium">╫ס╫ש╫á╫ץ╫á╫ש╫¬</option>
                                    <option value="high">╫ע╫ס╫ץ╫פ╫פ</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="taskNotes">╫פ╫ó╫¿╫ץ╫¬:</label>
                            <textarea id="taskNotes" rows="4" placeholder="╫פ╫ץ╫í╫ú ╫פ╫ó╫¿╫ץ╫¬ ╫¢╫נ╫ƒ..."></textarea>
                        </div>
                        <div class="modal-actions">
                            <button id="saveBtn" class="btn btn-primary">╫⌐╫₧╫ץ╫¿ ╫⌐╫ש╫á╫ץ╫ש╫ש╫¥</button>
                            <button id="deleteBtn" class="btn btn-danger">╫₧╫ק╫º ╫₧╫⌐╫ש╫₧╫פ</button>
                        </div>
                </div>
            </div>

            <!-- Create Task Modal -->
            <div id="createTaskModal" class="modal">
                <div class="modal-content">
                    <span class="close-modal-create">&times;</span>
                    <h2>╫פ╫ץ╫í╫ñ╫¬ ╫₧╫⌐╫ש╫₧╫פ ╫ק╫ף╫⌐╫פ</h2>
                    <div class="form-row">
                        <div class="form-group half">
                            <label for="createProjectNameInput">╫⌐╫¥ ╫פ╫ñ╫¿╫ץ╫ש╫º╫ר:</label>
                            <input type="text" id="createProjectNameInput" class="form-control">
                        </div>
                        <div class="form-group half">
                            <label for="createTaskNameInput">╫⌐╫¥ ╫פ╫₧╫⌐╫ש╫₧╫פ:</label>
                            <input type="text" id="createTaskNameInput" class="form-control">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="createTaskTeam">╫ª╫ץ╫ץ╫¬:</label>
                        <select id="createTaskTeam" class="form-control">
                            <option value="">╫ס╫ק╫¿ ╫ª╫ץ╫ץ╫¬...</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>╫ק╫ס╫¿╫ש ╫ª╫ץ╫ץ╫¬:</label>
                        <div class="members-select">
                            <!-- Populated by JS -->
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group half">
                            <label for="createTaskStatus">╫í╫ר╫ר╫ץ╫í:</label>
                            <select id="createTaskStatus" class="form-control">
                                <option value="status-inprogress">╫ס╫¬╫פ╫£╫ש╫ת</option>
                                <option value="status-done">╫פ╫í╫¬╫ש╫ש╫¥</option>
                                <option value="status-notstarted">╫ר╫¿╫¥ ╫פ╫ק╫£</option>
                                <option value="status-delayed">╫ס╫ó╫ש╫¢╫ץ╫ס</option>
                            </select>
                        </div>
                        <div class="form-group half">
                            <label for="createTaskPriority">╫ó╫ף╫ש╫ñ╫ץ╫¬:</label>
                            <select id="createTaskPriority" class="form-control">
                                <option value="none">╫£╫£╫נ</option>
                                <option value="low">╫á╫₧╫ץ╫¢╫פ</option>
                                <option value="medium">╫ס╫ש╫á╫ץ╫á╫ש╫¬</option>
                                <option value="high">╫ע╫ס╫ץ╫פ╫פ</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="createTaskNotes">╫פ╫ó╫¿╫ץ╫¬:</label>
                        <textarea id="createTaskNotes" rows="4" placeholder="╫פ╫ץ╫í╫ú ╫פ╫ó╫¿╫ץ╫¬ ╫¢╫נ╫ƒ..."></textarea>
                    </div>
                    <div class="modal-actions">
                        <button id="createSaveBtn" class="btn btn-primary">╫ª╫ץ╫¿ ╫₧╫⌐╫ש╫₧╫פ</button>
                    </div>
                </div>
            </div>

            <script src="{{ url_for('static', filename='script.js') }}"></script>
            <script>
                // Live clock for navbar
                function updateClock() {
                    const now = new Date();
                    const day = String(now.getDate()).padStart(2, '0');
                    const month = String(now.getMonth() + 1).padStart(2, '0');
                    const year = now.getFullYear();
                    const hours = String(now.getHours()).padStart(2, '0');
                    const minutes = String(now.getMinutes()).padStart(2, '0');
                    const seconds = String(now.getSeconds()).padStart(2, '0');
                    // Format: dd/mm/yyyy hh:mm:ss
                    const formatted = `${day}/${month}/${year} ${hours}:${minutes}:${seconds}`;
                    const el = document.getElementById('liveClock');
                    if (el) el.textContent = ` ${formatted} `;
                }
                setInterval(updateClock, 1000);
                updateClock();
            </script>
</body>

</html>
